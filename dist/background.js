(()=>{chrome.runtime.onMessage.addListener(((t,a,s)=>("refreshFilters"===JSON.parse(t).key&&e().then(s("")),!0)));const e=async()=>{chrome.storage.local.get(null,(async e=>{const a={};for(let t in e)e[t].isActive&&(a[t]=e[t]);await t("filter",a)}))},t=async(e,t)=>{const[a]=await chrome.tabs.query({active:!0,currentWindow:!0});await chrome.tabs.sendMessage(a.id,JSON.stringify({key:e,data:t}))}})();