(()=>{const t="siteTable";chrome.runtime.onMessage.addListener(((t,n,r)=>{const a=JSON.parse(t);return"filter"===a.key&&(o(a.data),e().then(r(""))),!0})),document.addEventListener("scroll",(async()=>{try{await e()}catch(t){console.log(t)}})),document.getElementById(t).addEventListener("DOMNodeInserted",(async n=>{if(n.target.parentNode.id===t)try{await e()}catch(t){console.log(t)}}));const e=async()=>{const e=document.getElementById(t),a=JSON.parse(window.localStorage.getItem("subredditFilterOptions"));n(e,a)&&r(e,a)},n=(t,e)=>null!==e&&null!==t,r=(t,e)=>{for(let n of t.children)"sitetable linklisting"===n.getAttribute("class")?r(n,e):a(n)&&i(n,e)&&t.removeChild(n)},a=t=>0!==t.getAttribute("data-subreddit"),i=(t,e)=>{const n=e[t.getAttribute("data-subreddit")];if(void 0===n)return!1;const r=t.getElementsByTagName("time")[0].getAttribute("datetime"),a=n.filterCategory,i=new Date(n.filterDateTime+"Z"),o=new Date(r);return"before"===a&&o<=i||"after"===a&&o>=i},o=t=>{window.localStorage.setItem("subredditFilterOptions",JSON.stringify(t))};try{e().then()}catch(t){console.log(t)}})();